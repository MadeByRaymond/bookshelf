(window.webpackJsonpnbaapp=window.webpackJsonpnbaapp||[]).push([[0],{44:function(e,t,a){e.exports=a(76)},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),l=a.n(o),c=a(8),i=a(5),s=a(19),u=a(39),m=a.n(u),p=a(40),d=a(16);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach(function(t){Object(d.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BOOKS":return v({},e,{list:t.payload});case"GET_SINGLE_BOOK":return v({},e,{info:t.payload[0],reviewer:t.payload[1]});case"CLEAR_SINGLE_BOOK":return v({},e,{info:t.payload,reviewer:t.payload});case"GET_REVIEWS":return v({},e,{my_reviews:t.payload});case"EDIT_REVIEW":return v({},e,{updated:t.payload});case"DELETE_REVIEW":return v({},e,{deleted:t.payload});case"CLEAR_REVIEW":return v({},e,{updated:t.payload,deleted:t.payload,info:t.payload,reviewer:t.payload});default:return e}};function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach(function(t){Object(d.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_USER":return b({},e,{login:t.payload});case"AUTH":return b({},e,{auth:t.payload});case"REGISTER_USER":return b({},e,{newuser:t.payload});case"LOGOUT":return b({},e,{newuser:t.payload,login:t.payload,auth:t.payload,allusers:t.payload});case"ALL_USERS":return b({},e,{allusers:t.payload});default:return e}},y=Object(s.c)({books:f,users:g}),O=a(18),w=a(2),j=a(3),_=a(6),k=a(4),N=a(7),I=a(9),P=a.n(I),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",n=P.a.get("/api/getBooks?limit=".concat(e,"&skip=").concat(t,"&order=").concat(a)).then(function(e){return e.data});return{type:"GET_BOOKS",payload:n}},L=function(e){return{type:"GET_SINGLE_BOOK",payload:P.a.get("/api/getBook_single?id=".concat(e)).then(function(e){return P.a.get("/api/getReviewer?id=".concat(e.data.ownerId)).then(function(t){return[e.data,t.data]}).catch(function(t){return[e.data,{name:"Not Available",lastname:null}]})})}},R=function(e){return{type:"EDIT_REVIEW",payload:P.a.post("/api/book_update",e).then(function(e){return e.data})}},D=function(e){return{type:"DELETE_REVIEW",payload:P.a.post("/api/delete_book?id=".concat(e)).then(function(e){return e.data})}},x=function(e,t){var a={email:e,password:t},n=P.a.post("/api/login",a).then(function(e){return e.data});return{type:"LOG_USER",payload:n}},C=function(){return{type:"AUTH",payload:P.a.get("/api/auth").then(function(e){return e.data})}},A=function(e){return{type:"REGISTER_USER",payload:P.a.post("/api/register",e).then(function(e){return e.data})}},T=function(e){return r.a.createElement(c.b,{to:"/books/".concat(e._id),className:"book_item"},r.a.createElement("div",{className:"book_header"},r.a.createElement("h2",null,e.name)),r.a.createElement("div",{className:"book_items"},r.a.createElement("div",{className:"book_author"},e.author),r.a.createElement("div",{className:"book_bubble"},r.a.createElement("strong",null,"Price: ")," $",e.price),r.a.createElement("div",{className:"book_bubble"},r.a.createElement("strong",null,"Pages: ")," ",e.pages),r.a.createElement("div",{className:"book_bubble rating"},r.a.createElement("strong",null,"Rating: ")," ",e.rating)))},U=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(_.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(o)))).itemLimit=3,a.itemInc=2,a.itemIcrementor=function(){return a.itemLimit=a.itemInc+a.itemLimit},a.renderItems=function(e){return e.list?e.list.map(function(e){return r.a.createElement(T,Object.assign({},e,{key:e._id}))}):r.a.createElement("div",{className:"loader"},"Rendering Books...")},a.loadmore=function(){a.props.dispatch(S(a.itemIcrementor(),0,"asc"))},a}return Object(N.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(S(this.itemIcrementor(),0,"asc"))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.renderItems(this.props.books),r.a.createElement("div",{className:"loadmore",onClick:function(){return e.loadmore()}}," Load More "))}}]),t}(n.Component),W=Object(i.b)(function(e){return{books:e.books}})(U),G=function(e){return r.a.createElement("div",null,r.a.createElement(W,e))},B=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(_.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(o)))).renderBook=function(e,t){return e?r.a.createElement("div",{className:"br_container"},r.a.createElement("div",{className:"br_header"},r.a.createElement("h2",null,e.name),r.a.createElement("h5",null,e.author),r.a.createElement("div",{className:"br_reviewer"},r.a.createElement("span",null,"Review by:")," ",t.name," ",t.lastname)),r.a.createElement("div",{className:"br_review"},e.review),r.a.createElement("div",{className:"br_box"},r.a.createElement("div",{className:"left"},r.a.createElement("div",null,r.a.createElement("span",null,"Pages: "),e.pages),r.a.createElement("div",null,r.a.createElement("span",null,"Price: "),e.price)),r.a.createElement("div",{className:"right"},r.a.createElement("span",null,"Rating: "),r.a.createElement("div",null,e.rating,"/5")))):r.a.createElement("div",{className:"loader"},"Loading Book...")},a}return Object(N.a)(t,e),Object(j.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch(L(this.props.match.params.id))}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"CLEAR_SINGLE_BOOK",payload:null})}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderBook(this.props.book.info,this.props.book.reviewer))}}]),t}(n.Component),F=Object(i.b)(function(e){return{book:e.books}})(B),M=function(e){return r.a.createElement(F,e)},V=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(_.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(o)))).state={email:"",password:"",success:!1,error:""},a.submitForm=function(e){e.preventDefault(),a.props.dispatch(x(a.state.email,a.state.password))},a.errorMessage=function(){if(a.props.user.login){if(!1===a.props.user.login.isAuth)return r.a.createElement("div",{className:"error"},a.props.user.login.message);if(!0===a.props.user.login.isAuth)return r.a.createElement("div",null,r.a.createElement("div",{className:"conf_link"},a.props.user.login.message),r.a.createElement("span",{style:{display:"none"}},setTimeout(function(){a.props.history.push("/user")},3e3)))}},a}return Object(N.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"rl_container"},r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("h2",null,"User Login"),this.errorMessage(),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"email",placeholder:"Enter your email",value:this.state.email,onChange:function(t){e.setState({email:t.target.value})}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"password",placeholder:"Enter your password",value:this.state.password,onChange:function(t){e.setState({password:t.target.value})}})),r.a.createElement("button",{type:"submit"},"Login")))}}]),t}(n.Component),H=Object(i.b)(function(e){return{user:e.users}})(V),K=function(e){return r.a.createElement("div",{className:"user_container"},r.a.createElement("div",{className:"avatar"},r.a.createElement("img",{alt:"avatar",src:"/images/avatar.png"})),r.a.createElement("div",{className:"nfo"},r.a.createElement("div",null,r.a.createElement("span",null,"Name:")," ",e.user.auth.name),r.a.createElement("div",null,r.a.createElement("span",null,"Lastname:")," ",e.user.auth.lastname),r.a.createElement("div",null,r.a.createElement("span",null,"Email:")," ",e.user.auth.email)))};function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var X=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(_.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={formdata:{name:"",author:"",review:"",pages:"",rating:"1",price:"",ownerId:a.props.user.auth.id}},a.clearFormData=a.state.formdata,a.submitForm=function(e){e.preventDefault(),console.log(a.state.formdata),P.a.post("/api/book",a.state.formdata).then(function(e){e.data.post&&a.setState({formdata:a.clearFormData,added:e.data})}).catch(function(e){console.log(e)})},a.handleInput=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(a,!0).forEach(function(t){Object(d.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a.state.formdata);n[t]=e.target.value,a.setState({formdata:n})},a}return Object(N.a)(t,e),Object(j.a)(t,[{key:"statusAlert",value:function(){var e=this.state.added;if(e)return!0===e.post?r.a.createElement("div",{className:"edit_confirm"},"Review added, ",r.a.createElement(c.b,{to:"/books/".concat(e.bookId)},"Click here to view your post")):r.a.createElement("div",{className:"red_tag"},"Oops! Review was not added successfully")}},{key:"render",value:function(){var e=this,t=this.state.formdata;return r.a.createElement("div",{className:"rl_container article"},this.statusAlert(),r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("h2",null,"Add a review"),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"text",placeholder:"Enter name",value:t.name,onChange:function(t){return e.handleInput(t,"name")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"text",placeholder:"Enter author",value:t.author,onChange:function(t){return e.handleInput(t,"author")}})),r.a.createElement("textarea",{placeholder:"Enter review",value:t.review,onChange:function(t){return e.handleInput(t,"review")}}),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Enter pages",value:t.pages,onChange:function(t){return e.handleInput(t,"pages")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("select",{value:t.rating,onChange:function(t){return e.handleInput(t,"rating")}},r.a.createElement("option",{val:"1"},"1"),r.a.createElement("option",{val:"2"},"2"),r.a.createElement("option",{val:"3"},"3"),r.a.createElement("option",{val:"4"},"4"),r.a.createElement("option",{val:"5"},"5"))),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Enter price",value:t.price,onChange:function(t){return e.handleInput(t,"price")}})),r.a.createElement("button",{type:"submit"},"Review")))}}]),t}(n.Component);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var z=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(_.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={formdata:{name:"",author:"",review:"",pages:"",rating:"",price:"",_id:a.props.match.params.id}},a.submitForm=function(e){e.preventDefault(),console.log(a.state.formdata),a.props.dispatch(R(a.state.formdata))},a.handleInput=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach(function(t){Object(d.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a.state.formdata);n[t]=e.target.value,a.setState({formdata:n})},a.deletePost=function(e){e.preventDefault(),a.props.dispatch(D(a.props.match.params.id))},a}return Object(N.a)(t,e),Object(j.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch(L(this.props.match.params.id)),console.log(this.props)}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"CLEAR_REVIEW",payload:null})}},{key:"componentWillReceiveProps",value:function(e){if(e.review.deleted);else if(e.review.updated){var t=e.review.updated.doc;this.setState({formdata:{name:t.name,author:t.author,review:t.review,pages:t.pages,rating:t.rating,price:t.price,_id:this.props.match.params.id}})}else e.review.info&&this.setState({formdata:{name:e.review.info.name,author:e.review.info.author,review:e.review.info.review,pages:e.review.info.pages,rating:e.review.info.rating,price:e.review.info.price,_id:this.props.match.params.id}})}},{key:"statusAlert",value:function(){var e=this,t=this.props.review;return t.deleted?!0===t.deleted.success?r.a.createElement("div",{className:"red_tag"},"Review Deleted ",r.a.createElement("span",{style:{display:"none"}},setTimeout(function(){e.props.history.push("/user/user-reviews")},2e3))):r.a.createElement("div",{className:"red_tag"},r.a.createElement("div",null,"Oops! Review did not delete successfully"),r.a.createElement("div",null,"Refresh and try again!")):t.updated?!0===t.updated.success?r.a.createElement("div",{className:"edit_confirm"},"Review updated, ",r.a.createElement(c.b,{to:"/books/".concat(t.updated.doc._id)},"Click here to view your post")):r.a.createElement("div",{className:"red_tag"},"Oops! Review did not updated"):void 0}},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.state.formdata;return r.a.createElement("div",{className:"rl_container article"},this.statusAlert(),r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("h2",null,"Edit your review"),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"text",placeholder:"Enter name",value:t.name,onChange:function(t){return e.handleInput(t,"name")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"text",placeholder:"Enter author",value:t.author,onChange:function(t){return e.handleInput(t,"author")}})),r.a.createElement("textarea",{placeholder:"Enter review",value:t.review,onChange:function(t){return e.handleInput(t,"review")}}),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Enter pages",value:t.pages,onChange:function(t){return e.handleInput(t,"pages")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("select",{value:t.rating,onChange:function(t){return e.handleInput(t,"rating")}},r.a.createElement("option",{val:"1"},"1"),r.a.createElement("option",{val:"2"},"2"),r.a.createElement("option",{val:"3"},"3"),r.a.createElement("option",{val:"4"},"4"),r.a.createElement("option",{val:"5"},"5"))),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Enter price",value:t.price,onChange:function(t){return e.handleInput(t,"price")}})),r.a.createElement("button",{type:"submit"},"Save Edit"),r.a.createElement("div",{className:"delete_post"},r.a.createElement("div",{className:"button",onClick:this.deletePost},"Delete Review"))))}}]),t}(n.Component),$=Object(i.b)(function(e){return{review:e.books}})(z),q=a(42),Q=a.n(q),Z=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(_.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(o)))).userPosts=function(e){return e.my_reviews?e.my_reviews.map(function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,r.a.createElement(c.b,{to:"/user/edit-post/".concat(e._id)},e.name)),r.a.createElement("td",null,e.author),r.a.createElement("td",null,Q()(e.createdAt).format("DD/MM/YYYY")))}):null},a}return Object(N.a)(t,e),Object(j.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"asc",r=P.a.get("/api/user_posts?user=".concat(e,"&limit=").concat(t,"&skip=").concat(a,"&order=").concat(n)).then(function(e){return e.data});return{type:"GET_REVIEWS",payload:r}}(this.props.user.auth.id))}},{key:"render",value:function(){var e=this.props.reviews;return r.a.createElement("div",{className:"user_posts"},r.a.createElement("h4",null,"Your reviews:"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Author"),r.a.createElement("th",null,"Date"))),r.a.createElement("tbody",null,this.userPosts(e))))}}]),t}(n.Component),ee=Object(i.b)(function(e){return{reviews:e.books}})(Z);function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var ae=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(_.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(o)))).state={formdata:{name:"",lastname:"",email:"",password:""}},a.clearFormData=a.state.formdata,a.submitForm=function(e){e.preventDefault(),a.props.dispatch(A(a.state.formdata))},a.handleInput=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(a,!0).forEach(function(t){Object(d.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a.state.formdata);n[t]=e.target.value,a.setState({formdata:n})},a.allUsers=function(e){return e.allusers?e.allusers.map(function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.lastname),r.a.createElement("td",null,e.email))}):null},a}return Object(N.a)(t,e),Object(j.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch({type:"ALL_USERS",payload:P.a.get("/api/users").then(function(e){return e.data})})}},{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=e.users.newuser;t&&!0===t.success&&this.setState({formdata:this.clearFormData})}},{key:"statusAlert",value:function(){var e=this.props.users;if(e.newuser)return!0===e.newuser.success?r.a.createElement("div",{className:"edit_confirm"},"New User Added Successfully"):r.a.createElement("div",{className:"red_tag"},r.a.createElement("div",null,"Oops! User was not added succesfully"),r.a.createElement("div",null,"Check all field and try again!"))}},{key:"render",value:function(){var e=this,t=this.state.formdata;return r.a.createElement("div",{className:"rl_container article"},this.statusAlert(),r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("h2",null,"Add user"),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"text",placeholder:"Enter name",value:t.name,maxLength:"100",onChange:function(t){return e.handleInput(t,"name")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"text",placeholder:"Enter lastname",value:t.lastname,maxLength:"100",onChange:function(t){return e.handleInput(t,"lastname")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"email",placeholder:"Enter email",value:t.email,onChange:function(t){return e.handleInput(t,"email")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"password",placeholder:"Enter password",value:t.password,minLength:"6",onChange:function(t){return e.handleInput(t,"password")}})),r.a.createElement("button",{type:"submit"},"Review")),r.a.createElement("div",{className:"current_users"},r.a.createElement("h4",null,"Current Users"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Lastname"),r.a.createElement("th",null,"Email"))),r.a.createElement("tbody",null,this.allUsers(this.props.users)))))}}]),t}(n.Component),ne=Object(i.b)(function(e){return{users:e.users}})(ae),re=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(_.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).redirect=function(e){console.log(e),null==e.auth&&setTimeout(function(){a.props.history.push("/")},2e3)},a}return Object(N.a)(t,e),Object(j.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch((P.a.get("/api/logout").then(function(e){return e.data}),{type:"LOGOUT",payload:null}))}},{key:"render",value:function(){return this.redirect(this.props.user),r.a.createElement("div",{className:"logout_container"},r.a.createElement("h1",null,"Sorry to see you go :("))}}]),t}(n.Component),oe=Object(i.b)(function(e){return{user:e.users}})(re),le=function(){return r.a.createElement("div",{style:{textAlign:"center",marginTop:"10%"}},r.a.createElement("h1",null,"404"),r.a.createElement("p",null,"Oop! Page Not Found"))},ce=a(23),ie=a.n(ce),se=a(43),ue=a.n(se),me=Object(i.b)(function(e){return{user:e.users}})(function(e){var t=[{type:"navItem",icon:"home",text:"Home",link:"/",onLogin:!0,onLogout:!0},{type:"navItem",icon:"file-text-o",text:"My Profile",link:"/user",onLogin:!0,onLogout:!1},{type:"navItem",icon:"file-text-o",text:"Add Admins",link:"/register",onLogin:!0,onLogout:!1},{type:"navItem",icon:"sign-in",text:"Login",link:"/login",onLogin:!1,onLogout:!0},{type:"navItem",icon:"file-text-o",text:"My Reviews",link:"/user/user-reviews",onLogin:!0,onLogout:!1},{type:"navItem",icon:"file-text-o",text:"Add Reviews",link:"/user/add",onLogin:!0,onLogout:!1},{type:"navItem",icon:"sign-out",text:"Logout",link:"/user/logout",onLogin:!0,onLogout:!1}],a=function(t,a){return r.a.createElement("div",{key:a,className:t.type},r.a.createElement(c.b,{to:t.link,onClick:e.hideNav},r.a.createElement(ie.a,{name:t.icon})," ",t.text))};return r.a.createElement("div",null,function(){var n=e.user.auth;return console.log(e),t.map(function(e,t){if(n&&n.isAuth){if(!0===e.onLogin)return a(e,t)}else if(!0===e.onLogout)return a(e,t)})}())}),pe=function(e){return r.a.createElement(ue.a,{showNav:e.showNav,onHideNav:e.onHideNav,openFromLeft:!0,navStyle:{background:"#242424",width:"80%",maxWidth:"320px"}},r.a.createElement(me,{hideNav:e.onHideNav}))},de=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(_.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={showNav:!1},a.toggleNav=function(e){a.setState({showNav:e})},a}return Object(N.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("header",null,r.a.createElement("div",{className:"open_nav"},r.a.createElement(ie.a,{name:"bars",style:{color:"#fff",padding:"10px 10px 15px",cursor:"pointer",position:"relative",zIndex:"1"},onClick:function(){return e.toggleNav(!0)}}),r.a.createElement(pe,{showNav:this.state.showNav,onHideNav:function(){return e.toggleNav(!1)}}),r.a.createElement(c.b,{to:"/",className:"logo"},"The Book Shelf")))}}]),t}(n.Component),he=function(e){return r.a.createElement("div",null,r.a.createElement(de,null),r.a.createElement("div",null,e.children))},ve=function(e,t,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",l=function(n){function l(){var e,t;Object(w.a)(this,l);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=Object(_.a)(this,(e=Object(k.a)(l)).call.apply(e,[this].concat(n)))).state={loading:!0},t}return Object(N.a)(l,n),Object(j.a)(l,[{key:"componentWillMount",value:function(){this.props.dispatch(C())}},{key:"componentWillReceiveProps",value:function(e){this.setState({loading:!1}),e.user.auth&&(e.user.auth.isAuth?!1===t&&this.props.history.push(o):e.user.auth.isAuth||!1===a&&this.props.history.push("/login"))}},{key:"render",value:function(){return this.state.loading?r.a.createElement("div",{className:"loader"},"loading..."):r.a.createElement(e,Object.assign({},this.props,{user:this.props.user}))}}]),l}(n.Component),c=function(e){return{user:e.users}};return Object(i.b)(c)(l)},fe=function(){return r.a.createElement(he,null,r.a.createElement(O.c,null,r.a.createElement(O.a,{path:"/",exact:!0,component:ve(G,!0,!0)}),r.a.createElement(O.a,{path:"/books/:id",exact:!0,component:ve(M,!0,!0)}),r.a.createElement(O.a,{path:"/login",exact:!0,component:ve(H,!1,!0)}),r.a.createElement(O.a,{path:"/user",exact:!0,component:ve(K,!0,!1)}),r.a.createElement(O.a,{path:"/user/add",exact:!0,component:ve(X,!0,!1)}),r.a.createElement(O.a,{path:"/user/user-reviews",exact:!0,component:ve(ee,!0,!1)}),r.a.createElement(O.a,{path:"/user/edit-post/:id",exact:!0,component:ve($,!0,!1)}),r.a.createElement(O.a,{path:"/register",exact:!0,component:ve(ne,!0,!1)}),r.a.createElement(O.a,{path:"/user/logout",exact:!0,component:ve(oe,!0,!1)}),"// 404 Route //",r.a.createElement(O.a,{path:"*",component:ve(le,!0,!0)}),"// 404 Route //"))},Ee=Object(s.a)(m.a,p.a)(s.d);l.a.render(r.a.createElement(function(){return r.a.createElement(i.a,{store:Ee(y,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},r.a.createElement(c.a,null,r.a.createElement(fe,null)))},null),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.55db7447.chunk.js.map